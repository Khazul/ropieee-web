doctype html
html
  head
    title RoPieee [#{config_rp_this_hostname}]
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js' type='text/javascript')
    link(href='https://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css', rel='stylesheet')
    script(src='https://netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.11/jquery.mask.min.js' type='text/javascript')
    script.
      function updatefields() {
         console.log('test test test');
         console.log('value = ' + document.getElementById('wired_method').value);
         if (document.getElementById('wired_method').value === 'dhcp') {
            console.log('readonly is true');
            document.getElementById('wired_ip_addr').readOnly = true;
            document.getElementById('wired_netmask').readOnly = true;
            document.getElementById('wired_gateway').readOnly = true;
         } else {
            console.log('readonly is false');
            document.getElementById('wired_ip_addr').readOnly = false;
            document.getElementById('wired_netmask').readOnly = false;
            document.getElementById('wired_gateway').readOnly = false;
         }
      }

  body(onload='updatefields();')
    div.container
      include header.pug

      div.container
        ul(class='nav nav-tabs')
           li(role='presentation')
              a(href='/') General
           li(role='Display')
              a(href='/display') Display
           li(role='Network' class='active')
              a(href='/network') Network
           li(role='presentation')
              a(href='/advanced') Advanced
           li(role='presentation')
              a(href='/info') Information

        br
        h5 This section contains the settings for RoPieee's network configuration.
        br

        form(class='form-horizontal' action='/submit?config=network' method='post')
          div(class='form-group')
            label(class='control-label col-sm-2' for='ip_method') Configuration Method
            div(class='col-sm-10')
              select(class='form-control' name='wired_method' id='wired_method' data-toggle='tooltip' title='Select the method for IP address configuration.' onchange='updatefields();')
                option(value='dhcp', selected=(config_rp_network_wired_method=='dhcp')) DHCP
                option(value='static', selected=(config_rp_network_wired_method=='static')) Static
          div(class='form-group')
            label(class='control-label col-sm-2' for='ip_address') IP Address
            div(class='col-sm-10')
              input(type='text' class='form-control' name='wired_ip_addr' id='wired_ip_addr' required pattern='(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)_*(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)_*){3}' placeholder='192.168.1.115' title='The static IP address you want the RoPiee to have.' value= config_rp_network_wired_ipaddr)
          div(class='form-group')
            label(class='control-label col-sm-2' for='ip_address') IP Netmask
            div(class='col-sm-10')
              input(type='text' class='form-control' name='wired_netmask' id='wired_netmask' required pattern='(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)_*(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)_*){3}' placeholder='255.255.255.0' title='The netmask you want the RoPieee to have.' value= config_rp_network_wired_netmask)
          div(class='form-group')
            label(class='control-label col-sm-2' for='ip_address') Gateway
            div(class='col-sm-10')
              input(type='text' class='form-control' name='wired_gateway' id='wired_gateway' required pattern='(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)_*(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)_*){3}' placeholder='255.255.255.0' title='The gateway you want the RoPieee to use.' value= config_rp_network_wired_gateway)







          hr
          button(type='submit' class='btn btn-default') Commit Changes
 
